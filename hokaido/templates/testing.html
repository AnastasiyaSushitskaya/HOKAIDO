<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–±–µ—Ä–∏ —è–ø–æ–Ω—Å–∫–∏–π –Ω–∞–ø–∏—Ç–æ–∫ | HOKAIDO</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #FFF9E6;
            color: #333;
            overflow-x: hidden;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .game-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .game-title {
            font-family: 'Montserrat', sans-serif;
            color: #1240AB;
            font-size: 2.5rem;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        .game-title::after {
            content: "";
            display: block;
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, #FFAA00, #1240AB);
            margin: 10px auto 0;
            border-radius: 2px;
        }

        .game-description {
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto 20px;
            line-height: 1.6;
        }

        .game-area {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .ingredients-panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            width: 300px;
        }

        .ingredients-title {
            color: #1240AB;
            margin-bottom: 15px;
            font-size: 1.3rem;
            text-align: center;
        }

        .ingredients-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .ingredient-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            cursor: grab;
            transition: all 0.3s;
            border: 2px solid transparent;
            user-select: none;
        }

        .ingredient-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            border-color: #FFAA00;
        }

        .ingredient-item:active {
            cursor: grabbing;
            transform: scale(0.95);
        }

        .ingredient-icon {
            font-size: 2rem;
            margin-bottom: 5px;
            color: #1240AB;
        }

        .glass-container {
            position: relative;
            width: 300px;
            height: 400px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .glass {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 300px;
            background: rgba(255, 255, 255, 0.7);
            border: 3px solid #1240AB;
            border-bottom: none;
            border-radius: 30px 30px 0 0;
            overflow: hidden;
        }

        .liquid {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 0;
            transition: height 0.5s, background-color 1s;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(90deg, #1240AB, #1a56d6);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(90deg, #0f3899, #1240AB);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(18, 64, 171, 0.2);
        }

        .btn-secondary {
            background: linear-gradient(90deg, #FFAA00, #ffc040);
            color: white;
        }

        .btn-secondary:hover {
            background: linear-gradient(90deg, #e69900, #FFAA00);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 170, 0, 0.2);
        }

        .result-panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            width: 100%;
            max-width: 600px;
            margin: 30px auto 0;
            text-align: center;
            display: none;
        }

        .result-title {
            color: #1240AB;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .result-message {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .game-area {
                flex-direction: column;
                align-items: center;
            }

            .glass-container {
                height: 350px;
            }

            .glass {
                height: 250px;
            }
        }
    </style>
</head>

<body>
    <div class="game-container">
        <div class="game-header">
            <h1 class="game-title">–°–æ–±–µ—Ä–∏ —è–ø–æ–Ω—Å–∫–∏–π –Ω–∞–ø–∏—Ç–æ–∫</h1>
            <p class="game-description">–ü–µ—Ä–µ—Ç–∞—â–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –≤ –±–æ–∫–∞–ª, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —è–ø–æ–Ω—Å–∫–∏–π –Ω–∞–ø–∏—Ç–æ–∫!</p>
        </div>

        <div class="game-area">
            <div class="ingredients-panel">
                <h3 class="ingredients-title">–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</h3>
                <div class="ingredients-list" id="ingredients">
                    <div class="ingredient-item" data-type="sake" data-color="#FFF1E0" data-taste="–∞–ª–∫–æ–≥–æ–ª—å">
                        <div class="ingredient-icon">üç∂</div>
                        <div>–°–∞–∫–µ</div>
                    </div>
                    <div class="ingredient-item" data-type="matcha" data-color="#A5D6A7" data-taste="–≥–æ—Ä—å–∫–∏–π">
                        <div class="ingredient-icon">üçµ</div>
                        <div>–ú–∞—Ç—á–∞</div>
                    </div>
                    <div class="ingredient-item" data-type="ramune" data-color="#E3F2FD" data-taste="—Å–ª–∞–¥–∫–∏–π">
                        <div class="ingredient-icon">üçæ</div>
                        <div>–†–∞–º—É–Ω–µ</div>
                    </div>
                    <div class="ingredient-item" data-type="yuzu" data-color="#FFF9C4" data-taste="–∫–∏—Å–ª—ã–π">
                        <div class="ingredient-icon">üçä</div>
                        <div>–Æ–∑—É</div>
                    </div>
                    <div class="ingredient-item" data-type="shochu" data-color="#F5F5F5" data-taste="–∫—Ä–µ–ø–∫–∏–π">
                        <div class="ingredient-icon">ü•É</div>
                        <div>–°—ë—Ç—é</div>
                    </div>
                    <div class="ingredient-item" data-type="ume" data-color="#F8BBD0" data-taste="—Ç–µ—Ä–ø–∫–∏–π">
                        <div class="ingredient-icon">üçë</div>
                        <div>–£–º–µ</div>
                    </div>
                </div>
                <div class="controls">
                    <button class="btn btn-secondary" id="resetBtn">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    <button class="btn btn-primary" id="mixBtn">–°–º–µ—à–∞—Ç—å!</button>
                </div>
            </div>

            <div class="glass-container">
                <div class="glass" id="glass">
                    <div class="liquid" id="liquid"></div>
                </div>
            </div>
        </div>

        <div class="result-panel" id="resultPanel">
            <h3 class="result-title" id="resultTitle">–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
            <p class="result-message" id="resultMessage"></p>
            <button class="btn btn-primary" id="playAgainBtn">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const ingredients = document.querySelectorAll('.ingredient-item');
            const glass = document.getElementById('glass');
            const liquid = document.getElementById('liquid');
            const resetBtn = document.getElementById('resetBtn');
            const mixBtn = document.getElementById('mixBtn');
            const resultPanel = document.getElementById('resultPanel');
            const resultTitle = document.getElementById('resultTitle');
            const resultMessage = document.getElementById('resultMessage');
            const playAgainBtn = document.getElementById('playAgainBtn');

            let currentIngredients = [];
            let layers = [];

            // Drag and drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
            ingredients.forEach(ingredient => {
                ingredient.addEventListener('dragstart', dragStart);
            });

            glass.addEventListener('dragover', dragOver);
            glass.addEventListener('drop', drop);

            function dragStart(e) {
                e.dataTransfer.setData('text/plain', e.target.dataset.type);
                setTimeout(() => {
                    e.target.style.opacity = '0.4';
                }, 0);
            }

            function dragOver(e) {
                e.preventDefault();
            }

            function drop(e) {
                e.preventDefault();
                const ingredientType = e.dataTransfer.getData('text/plain');
                const ingredient = document.querySelector(`[data-type="${ingredientType}"]`);

                // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
                ingredient.style.opacity = '1';

                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞
                addIngredient(ingredientType);
            }

            // –ö–ª–∏–∫ –ø–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—É (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
            ingredients.forEach(ingredient => {
                ingredient.addEventListener('click', function () {
                    addIngredient(this.dataset.type);
                });
            });

            function addIngredient(type) {
                const ingredient = document.querySelector(`[data-type="${type}"]`);

                // –ê–Ω–∏–º–∞—Ü–∏—è "–ø–∞–¥–µ–Ω–∏—è" –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞
                const clone = ingredient.cloneNode(true);
                clone.style.position = 'absolute';
                clone.style.top = '0';
                clone.style.left = Math.random() * 150 + 'px';
                clone.style.transform = 'scale(1.2)';
                clone.style.opacity = '0.8';
                clone.style.pointerEvents = 'none';
                clone.style.transition = 'all 0.5s';

                glass.appendChild(clone);

                setTimeout(() => {
                    clone.style.top = '200px';
                    clone.style.opacity = '0';
                }, 10);

                setTimeout(() => {
                    glass.removeChild(clone);
                }, 600);

                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—è –∂–∏–¥–∫–æ—Å—Ç–∏
                currentIngredients.push(type);
                updateLiquid();
            }

            function updateLiquid() {
                let height = 0;
                let bg = '';
                layers = [];

                // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
                if (currentIngredients.length > 5) {
                    currentIngredients = currentIngredients.slice(0, 5);
                }

                // –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –∏–∑ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
                currentIngredients.forEach((type, index) => {
                    const color = document.querySelector(`[data-type="${type}"]`).dataset.color;
                    const percent = 100 / currentIngredients.length;
                    const start = index * percent;
                    const end = (index + 1) * percent;

                    layers.push(`${color} ${start}%`);
                    layers.push(`${color} ${end}%`);
                });

                bg = `linear-gradient(to top, ${layers.join(', ')})`;
                height = (currentIngredients.length / 5) * 100;

                liquid.style.height = `${height}%`;
                liquid.style.background = bg;
            }

            // –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞
            resetBtn.addEventListener('click', function () {
                currentIngredients = [];
                liquid.style.height = '0';
                liquid.style.background = 'transparent';
            });

            // –ö–Ω–æ–ø–∫–∞ —Å–º–µ—à–∏–≤–∞–Ω–∏—è
            mixBtn.addEventListener('click', function () {
                if (currentIngredients.length === 0) {
                    alert('–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç!');
                    return;
                }

                // –ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ—à–∏–≤–∞–Ω–∏—è
                liquid.style.transition = 'background-color 1s';
                liquid.style.backgroundColor = getMixedColor();

                setTimeout(() => {
                    showResult();
                }, 1000);
            });

            function getMixedColor() {
                // –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞
                const colors = currentIngredients.map(type =>
                    document.querySelector(`[data-type="${type}"]`).dataset.color
                );

                if (colors.includes('#F8BBD0')) return '#F48FB1'; // –ï—Å–ª–∏ –µ—Å—Ç—å —É–º–µ
                if (colors.includes('#FFF1E0') && colors.includes('#F5F5F5')) return '#D7CCC8'; // –°–∞–∫–µ + —Å—ë—Ç—é
                if (colors.includes('#A5D6A7') && colors.includes('#FFF9C4')) return '#C5E1A5'; // –ú–∞—Ç—á–∞ + —é–∑—É
                if (colors.includes('#E3F2FD')) return '#90CAF9'; // –ï—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–º—É–Ω–µ

                return '#BCAAA4'; // –î–µ—Ñ–æ–ª—Ç–Ω—ã–π —Ü–≤–µ—Ç —Å–º–µ—Å–∏
            }

            function showResult() {
                const tastes = currentIngredients.map(type =>
                    document.querySelector(`[data-type="${type}"]`).dataset.taste
                );

                let drinkName = '';
                let description = '';

                // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞–ø–∏—Ç–∫–∞ –ø–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
                if (currentIngredients.includes('sake') && currentIngredients.includes('ume')) {
                    drinkName = '–£–º–µ—Å—é';
                    description = '–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–∞–¥–∫–∏–π –ª–∏–∫—ë—Ä –∏–∑ —Å–ª–∏–≤—ã —É–º—ç! –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä!';
                }
                else if (currentIngredients.includes('matcha') && currentIngredients.includes('ramune')) {
                    drinkName = '–ú–∞—Ç—á–∞-—Ä–∞–º—É–Ω–µ';
                    description = '–û—Å–≤–µ–∂–∞—é—â–∏–π –∑–µ–ª—ë–Ω—ã–π —á–∞–π —Å –≥–∞–∑–∏—Ä–æ–≤–∫–æ–π! –í–∫—É—Å–Ω–æ –∏ –±–æ–¥—Ä—è—â–µ!';
                }
                else if (currentIngredients.includes('shochu') && currentIngredients.includes('yuzu')) {
                    drinkName = '–Æ–∑—É-—Ö–∞–π';
                    description = '–ö—Ä–µ–ø–∫–∏–π –∏ —Ü–∏—Ç—Ä—É—Å–æ–≤—ã–π - –ª—é–±–∏–º—ã–π –Ω–∞–ø–∏—Ç–æ–∫ –º–Ω–æ–≥–∏—Ö —è–ø–æ–Ω—Ü–µ–≤!';
                }
                else if (currentIngredients.length === 1 && currentIngredients[0] === 'sake') {
                    drinkName = '–ß–∏—Å—Ç–æ–µ —Å–∞–∫–µ';
                    description = '–ö–ª–∞—Å—Å–∏–∫–∞ —è–ø–æ–Ω—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∞–ª–∫–æ–≥–æ–ª—è!';
                }
                else {
                    drinkName = '–¢–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–∫—Ç–µ–π–ª—å';
                    description = '–£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å–º–µ—Å—å! –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã —Å–æ–∑–¥–∞–ª–∏ –Ω–æ–≤—ã–π —Ç—Ä–µ–Ω–¥!';
                }

                resultTitle.textContent = `–í—ã —Å–æ–∑–¥–∞–ª–∏: ${drinkName}`;
                resultMessage.textContent = description;
                resultPanel.style.display = 'block';

                // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
                resultPanel.scrollIntoView({ behavior: 'smooth' });
            }

            // –ö–Ω–æ–ø–∫–∞ "–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞"
            playAgainBtn.addEventListener('click', function () {
                currentIngredients = [];
                liquid.style.height = '0';
                liquid.style.background = 'transparent';
                liquid.style.transition = 'height 0.5s';
                liquid.style.backgroundColor = 'transparent';
                resultPanel.style.display = 'none';
            });
        });
    </script>
</body>

</html>